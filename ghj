--[[
	WARNING: Heads up! This script has not been verified by ScriptBlox. Use at your own risk!
]]
--// Script: RC7 Cloud F3X \\ --
--// Creator: ItsKittyyyGD \\ --
-- CODE/SOURCE (OPEN):

local player = game.Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local tool

for _, v in player:GetDescendants() do
    if v.Name == "SyncAPI" then
        tool = v.Parent
    end
end

for _, v in game.ReplicatedStorage:GetDescendants() do
    if v.Name == "SyncAPI" then
        tool = v.Parent
    end
end

local remote = tool.SyncAPI.ServerEndpoint

function _(args)
    remote:InvokeServer(unpack(args))
end

function SetCollision(part, boolean)
    local args = {"SyncCollision", {{Part = part, CanCollide = boolean}}}
    _(args)
end

function SetAnchor(boolean, part)
    local args = {"SyncAnchor", {{Part = part, Anchored = boolean}}}
    _(args)
end

function CreatePart(cf, parent)
    local args = {"CreatePart", "Normal", cf, parent}
    _(args)
end

function AddMesh(part)
    local args = {"CreateMeshes", {{Part = part}}}
    _(args)
end

function SetMesh(part, meshid)
    local args = {"SyncMesh", {{Part = part, MeshId = "rbxassetid://" .. meshid}}}
    _(args)
end

function MeshResize(part, size)
    local args = {"SyncMesh", {{Part = part, Scale = size}}}
    _(args)
end

function SetColor(part, color)
    local args = {"SyncColor", {{Part = part, Color = color, UnionColoring = false}}}
    _(args)
end

function MovePart(part, cf)
    local args = {"SyncMove", {{Part = part, CFrame = cf}}}
    _(args)
end

function CreateCloud()
    local head = char:WaitForChild("Head")
    local cf = head.CFrame + Vector3.new(0, 6, 0)
    CreatePart(cf, workspace)
    task.spawn(function()
        repeat task.wait() until (function()
            for _, v in workspace:GetDescendants() do
                if v:IsA("BasePart") and (v.Position - cf.Position).Magnitude < 0.5 then
                    SetAnchor(true, v)
                    SetCollision(v, false)
                    SetColor(v, BrickColor.new(333).Color)
                    AddMesh(v)
                    SetMesh(v, "111820358")
                    MeshResize(v, Vector3.new(8, 8, 8))
                    task.spawn(function()
                        game:GetService("RunService").RenderStepped:Connect(function()
                            if char and char:FindFirstChild("Head") then
                                MovePart(v, char.Head.CFrame + Vector3.new(0, 6, 0))
                            end
                        end)
                    end)
                    return true
                end
            end
        end)()
    end)
end

CreateCloud()

-- i can quit because theres more scripters f3x better than me. This can be my last script but,Â¿who knows?
